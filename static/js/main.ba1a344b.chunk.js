(this.webpackJsonpracestatts=this.webpackJsonpracestatts||[]).push([[0],{234:function(e,t,n){},238:function(e,t){},347:function(e,t,n){},348:function(e,t,n){},351:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(117),s=n.n(r),i=(n(234),n(4)),l=n.p+"static/media/logo.a0b3c75b.png",o=n(1),u=function(){return Object(o.jsx)("header",{class:"bg-indigo-600",children:Object(o.jsxs)("nav",{class:"px-2","aria-label":"Top",children:[Object(o.jsxs)("div",{class:"w-full py-6 flex items-center justify-between border-b border-indigo-500 lg:border-none",children:[Object(o.jsxs)("div",{class:"flex items-center",children:[Object(o.jsxs)("a",{href:"#",children:[Object(o.jsx)("span",{class:"sr-only",children:"Workflow"}),Object(o.jsx)("img",{class:"h-10 w-auto",src:l,alt:""})]}),Object(o.jsxs)("div",{class:"hidden ml-10 space-x-8 lg:block",children:[Object(o.jsx)("a",{href:"#",class:"text-base font-medium text-white hover:text-indigo-50",children:"Solutions"},"Solutions"),Object(o.jsx)("a",{href:"#",class:"text-base font-medium text-white hover:text-indigo-50",children:"Pricing"},"Pricing"),Object(o.jsx)("a",{href:"#",class:"text-base font-medium text-white hover:text-indigo-50",children:"Docs"},"Docs"),Object(o.jsx)("a",{href:"#",class:"text-base font-medium text-white hover:text-indigo-50",children:"Company"},"Company")]})]}),Object(o.jsxs)("div",{class:"ml-10 space-x-4",children:[Object(o.jsx)("a",{href:"#",class:"inline-block bg-indigo-500 py-2 px-4 border border-transparent rounded-md text-base font-medium text-white hover:bg-opacity-75",children:"Sign in"}),Object(o.jsx)("a",{href:"#",class:"inline-block bg-white py-2 px-4 border border-transparent rounded-md text-base font-medium text-indigo-600 hover:bg-indigo-50",children:"Sign up"})]})]}),Object(o.jsxs)("div",{class:"py-4 flex flex-wrap justify-center space-x-6 lg:hidden",children:[Object(o.jsx)("a",{href:"#",class:"text-base font-medium text-white hover:text-indigo-50",children:"Solutions"},"Solutions"),Object(o.jsx)("a",{href:"#",class:"text-base font-medium text-white hover:text-indigo-50",children:"Pricing"},"Pricing"),Object(o.jsx)("a",{href:"#",class:"text-base font-medium text-white hover:text-indigo-50",children:"Docs"},"Docs"),Object(o.jsx)("a",{href:"#",class:"text-base font-medium text-white hover:text-indigo-50",children:"Company"},"Company")]})]})})},d=function(e){var t=e.imagePath,n=Object(c.useRef)(),a="focus:border-light-blue-500 focus:ring-1 focus:ring-light-blue-500 focus:outline-none w-full text-sm text-black placeholder-gray-500 border border-gray-200 rounded-md py-4 pl-4 my-4";return Object(c.useEffect)((function(){var e=function(){return fetch("/api/submit-confirmation",{method:"POST",body:JSON.stringify({imagePath:t})})};return n.current.addEventListener("click",e),function(){n.current.remove("click",e)}}),[t]),Object(o.jsx)("div",{children:Object(o.jsxs)("div",{className:"flex w-full",children:[Object(o.jsx)("div",{class:"w-1/2 h-full px-8",children:Object(o.jsxs)("div",{className:"flex flex-col",children:[Object(o.jsx)("p",{className:"text-2xl my-4",children:"Contact Information"}),Object(o.jsxs)("label",{for:"email-input",className:"text-xl my-2 text-gray-400",children:["Email Address",Object(o.jsx)("input",{type:"email",className:a,id:"email-input",onChange:function(){},placeholder:"Email"})]}),Object(o.jsx)("p",{className:"text-2xl my-4",children:"Payment Details"}),Object(o.jsxs)("label",{for:"card-number-input",className:"text-xl my-2 text-gray-400",children:["Card Number",Object(o.jsx)("input",{type:"text",className:a,id:"card-number-input",onChange:function(){},placeholder:"---- ---- ---- ----"})]}),Object(o.jsxs)("div",{class:"flex flex-row",children:[Object(o.jsxs)("label",{for:"card-exp-input",className:"text-xl my-2 text-gray-400 w-1/2 pr-4",children:["Expiration Date",Object(o.jsx)("input",{type:"text",className:a,id:"card-exp-input",onChange:function(){},placeholder:"---- ---- ---- ----"})]}),Object(o.jsxs)("label",{for:"card-cvc-input",className:"text-xl my-2 text-gray-400 w-1/2 pl-4",children:["CVC Number",Object(o.jsx)("input",{type:"text",className:a,id:"card-cvc-input",onChange:function(){},placeholder:"---- ---- ---- ----"})]})]}),Object(o.jsx)("p",{className:"text-2xl my-4",children:"Shipping Information"}),Object(o.jsxs)("label",{for:"name-input",className:"text-xl my-2 text-gray-400",children:["Name",Object(o.jsx)("input",{type:"email",className:a,id:"name-input",onChange:function(){},placeholder:"Email"})]}),Object(o.jsxs)("label",{for:"address-input",className:"text-xl my-2 text-gray-400",children:["Address",Object(o.jsx)("input",{type:"email",className:a,id:"address-input",onChange:function(){},placeholder:"Email"})]})]})}),Object(o.jsxs)("div",{className:"bg-gray-200 w-1/2 h-full",children:[Object(o.jsx)("div",{className:"flex flex-col w-10/12 justify-center",children:Object(o.jsxs)("div",{className:"flex flex-col",children:[Object(o.jsx)("p",{className:"text-md text-gray-400",children:"Amount Due"}),Object(o.jsx)("p",{className:"text-xl text-gray-600",children:"$14.00"})]})}),Object(o.jsx)("img",{src:"/api/image-preview?image=".concat(t)}),Object(o.jsx)("div",{className:"block",children:Object(o.jsx)("button",{ref:n,className:"save-button whitespace-nowrap inline-flex rounded-md bg-blue-500 my-5 py-2 px-10 text-base font-semibold uppercase text-white hover:bg-opacity-90",children:"Submit & Pay"})})]})]})})},b=n(12),j=n.n(b),f=n(42),x=n(7),h=n(118),m=n.n(h),p=function(e){var t=e.pt1,n=e.pt2;return O(t.lat,t.lon,n.lat,n.lon)},O=function(e,t,n,c){var a=g(n-e),r=g(c-t);e=g(e),n=g(n);var s=Math.sin(a/2)*Math.sin(a/2)+Math.sin(r/2)*Math.sin(r/2)*Math.cos(e)*Math.cos(n);return 6371*(2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)))},g=function(e){return e*Math.PI/180},v=n(44),y=n(75),w=function(e){var t=e.distance,n=void 0===t?0:t,a=e.size,r=void 0===a?0:a,s=e.color,l=void 0===s?"#000000":s,u=e.id,d=e.onUpdate,b=Object(c.useState)(n),j=Object(i.a)(b,2),f=j[0],x=j[1],h=Object(c.useState)(r),m=Object(i.a)(h,2),p=m[0],O=m[1],g=Object(c.useState)(l),y=Object(i.a)(g,2),w=y[0],N=y[1],S=Object(c.useRef)(null),k=Object(c.useRef)(null);return Object(c.useEffect)((function(){S.current.value=f,k.current.value=p}),[]),Object(c.useEffect)((function(){JSON.stringify({distance:f,size:p,color:w,id:u})!==JSON.stringify({distance:n,size:r,color:l,id:u})&&d({distance:f,size:p,color:w,id:u})}),[f,p,w,u,d]),Object(o.jsxs)("div",{className:"aid-station-row mb-4 items-center flex flex-row ",children:[Object(o.jsxs)("div",{className:"flex flex-col",children:[Object(o.jsxs)("div",{className:"flex flex-row",children:[Object(o.jsx)("input",{ref:S,className:"py-2 pl-4 w-6/12 mr-2 focus:border-light-blue-500 focus:ring-1 focus:ring-light-blue-500 focus:outline-none w-full text-sm text-black placeholder-gray-500 border border-gray-200 rounded-md",type:"number",placeholder:"Distance",name:"aid-station-distance",value:f,onChange:function(e){return x(e.currentTarget.value)}}),Object(o.jsx)("input",{ref:k,className:"py-2 pl-4 w-2/12 mr-2 focus:border-light-blue-500 focus:ring-1 focus:ring-light-blue-500 focus:outline-none w-full text-sm text-black placeholder-gray-500 border border-gray-200 rounded-md",type:"number",placeholder:"Size",value:p,name:"aid-station-size",onChange:function(e){return O(e.currentTarget.value)}})]}),Object(o.jsx)(v.a,{name:"aid-station-color",circleSpacing:20,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5"],className:"circle-picker w-full mr-2 flex justify-between h-20 items-center",value:w,onChange:function(e){return N(e.hex)}})]}),Object(o.jsx)("button",{className:"w-1/12",children:"X"})]})},N=function(e){var t=e.updateStations,n={distance:0,size:1,color:"#000000",id:0},a=Object(c.useState)([n]),r=Object(i.a)(a,2),s=r[0],l=r[1];Object(c.useEffect)((function(){t(s)}),[JSON.stringify(s)]);var u=function(e){if(e){var t=s.find((function(t){return t.id===e.id}));if(n=t,c=e,JSON.stringify(n)!==JSON.stringify(c)){var n,c,a=s.findIndex((function(t){return t.id===e.id}));if(t){var r=Object(x.a)(Object(x.a)({},t),e);s[a]=r;var i=Object(y.a)(s);l(i)}}}};return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("p",{className:"text-xl mb-2",children:"Include Aid Stations"}),Object(o.jsx)("div",{className:"aid-stations-container",children:s.map((function(e,t){return Object(o.jsx)(w,{station:e,id:t,onUpdate:u},t)}))}),Object(o.jsx)("button",{className:"add-aid-station whitespace-nowrap inline-flex rounded-md bg-blue-500 py-2 px-3 text-xs font-semibold uppercase text-white hover:bg-opacity-90",onClick:function(e){var t=s.length?Object(x.a)(Object(x.a)({},s.slice(-1)[0]),{},{id:s.length}):n;l([].concat(Object(y.a)(s),[t]))},children:"+ Aid Station"})]})},S=function(e){var t=e.onUpload,n=e.customs,a=e.setCustoms,r=e.updateAidStations,s=Object(c.useState)(null),l=Object(i.a)(s,2),u=(l[0],l[1],Object(c.useState)("")),d=Object(i.a)(u,2),b=(d[0],d[1],Object(c.useState)(3)),j=Object(i.a)(b,2),f=(j[0],j[1],Object(c.useState)(n.lineColor||"#9c27b0")),h=Object(i.a)(f,2),O=(h[0],h[1],Object(c.useState)(!0)),g=Object(i.a)(O,2),y=(g[0],g[1],Object(c.useState)(!0)),w=Object(i.a)(y,2),S=(w[0],w[1],Object(c.useState)(n)),k=Object(i.a)(S,2),C=k[0],E=k[1];return Object(c.useEffect)((function(){a(C)}),[C]),Object(o.jsxs)("div",{className:"w-11/12 px-2 shadow-xl h-full",children:[Object(o.jsx)("h2",{className:"text-3xl",children:"Customize"}),Object(o.jsxs)("div",{className:"customize-field my-4",children:[Object(o.jsx)("p",{className:"text-xl  mb-2",children:"Upload File"}),Object(o.jsx)("input",{name:"gps-file",onChange:function(e){var n=e.currentTarget.files[0],c=new FileReader;c.addEventListener("load",(function(e){t(function(e){var t=(new DOMParser).parseFromString(e,"text/xml"),n=m.a.gpx(t).features[0].geometry.coordinates.map((function(e,t,n){return{index:t,elevation:e[2],distance:0,segmentLength:0===t?0:p({pt1:{lat:n[t][0],lon:n[t][1]},pt2:{lat:n[t-1][0],lon:n[t-1][1]}})}}));return n.forEach((function(e,t,n){return e.distance=e.segmentLength+(0===t?0:n[t-1].distance)})),n.map((function(e,t,n){var c=n[t].distance,a=.621371*c;return Object(x.a)(Object(x.a)({},e),{},{distance:{km:parseFloat(c.toFixed(3)),miles:parseFloat(a.toFixed(3))}})}))}(e.target.result))})),c.readAsText(n)},className:"focus:border-light-blue-500 focus:ring-1 focus:ring-light-blue-500 focus:outline-none w-full text-sm text-black placeholder-gray-500 border border-gray-200 rounded-md py-2 pl-4",type:"file",placeholder:"race.gpx",accept:".gpx, .kml"})]}),Object(o.jsxs)("div",{className:"customize-field my-4",children:[Object(o.jsx)("p",{className:"text-xl  mb-2",children:"Title"}),Object(o.jsx)("input",{name:"chart-title",className:"focus:border-light-blue-500 focus:ring-1 focus:ring-light-blue-500 focus:outline-none w-full text-sm text-black placeholder-gray-500 border border-gray-200 rounded-md py-2 pl-4",type:"text",placeholder:"Crush It!",onKeyUp:function(e){return E(Object(x.a)(Object(x.a)({},C),{},{title:e.currentTarget.value}))}})]}),Object(o.jsxs)("div",{className:"customize-field my-4",children:[Object(o.jsx)("p",{className:"text-xl  mb-2",children:"Line Color"}),Object(o.jsx)(v.a,{onChange:function(e){return E(Object(x.a)(Object(x.a)({},C),{},{lineColor:e.hex}))}})]}),Object(o.jsxs)("div",{className:"customize-field my-4",children:[Object(o.jsx)("p",{className:"text-xl  mb-2",children:"Line Width"}),Object(o.jsx)("input",{name:"line-width",className:"focus:border-light-blue-500 focus:ring-1 focus:ring-light-blue-500 focus:outline-none w-full text-sm text-black placeholder-gray-500 border border-gray-200 rounded-md py-2 pl-4",type:"number",placeholder:"3",onChange:function(e){return E(Object(x.a)(Object(x.a)({},C),{},{lineWidth:e.currentTarget.value}))}})]}),Object(o.jsxs)("div",{className:"customize-field my-4 ",children:[Object(o.jsx)("p",{className:"text-xl mb-2",children:"Lines"}),Object(o.jsxs)("div",{className:"flex justify-start",children:[Object(o.jsxs)("div",{className:"mr-8",children:[Object(o.jsx)("p",{className:"text-md mb-2",children:"Show Elevations"}),Object(o.jsx)("input",{type:"checkbox",name:"show-elevation-axis",value:"yes",className:"opacity-0 absolute h-8 w-8",checked:C.showElevationLines,onChange:function(e){return E(Object(x.a)(Object(x.a)({},C),{},{showElevationLines:e.target.checked}))}}),Object(o.jsx)("div",{className:"bg-white border-2 rounded-md border-blue-400 w-8 h-8 flex flex-shrink-0 justify-center items-center mr-2 focus-within:border-blue-500",children:Object(o.jsx)("svg",{className:"fill-current hidden w-3 h-3 text-blue-600 pointer-events-none",version:"1.1",viewBox:"0 0 17 12",xmlns:"http://www.w3.org/2000/svg",children:Object(o.jsx)("g",{fill:"none",fillRule:"evenodd",children:Object(o.jsx)("g",{transform:"translate(-9 -11)",fill:"#1F73F1",fillRule:"nonzero",children:Object(o.jsx)("path",{d:"m25.576 11.414c0.56558 0.55188 0.56558 1.4439 0 1.9961l-9.404 9.176c-0.28213 0.27529-0.65247 0.41385-1.0228 0.41385-0.37034 0-0.74068-0.13855-1.0228-0.41385l-4.7019-4.588c-0.56584-0.55188-0.56584-1.4442 0-1.9961 0.56558-0.55214 1.4798-0.55214 2.0456 0l3.679 3.5899 8.3812-8.1779c0.56558-0.55214 1.4798-0.55214 2.0456 0z"})})})})})]}),Object(o.jsxs)("div",{className:"mr-8",children:[Object(o.jsx)("p",{className:"text-md mb-2",children:"Show Distances"}),Object(o.jsx)("input",{type:"checkbox",name:"show-distance-axis",value:"yes",className:"opacity-0 absolute h-8 w-8",checked:C.showDistanceLines,onChange:function(e){return E(Object(x.a)(Object(x.a)({},C),{},{showDistanceLines:e.target.checked}))}}),Object(o.jsx)("div",{className:"bg-white border-2 rounded-md border-blue-400 w-8 h-8 flex flex-shrink-0 justify-center items-center mr-2 focus-within:border-blue-500",children:Object(o.jsx)("svg",{className:"fill-current hidden w-3 h-3 text-blue-600 pointer-events-none",version:"1.1",viewBox:"0 0 17 12",xmlns:"http://www.w3.org/2000/svg",children:Object(o.jsx)("g",{fill:"none",fillRule:"evenodd",children:Object(o.jsx)("g",{transform:"translate(-9 -11)",fill:"#1F73F1",fillRule:"nonzero",children:Object(o.jsx)("path",{d:"m25.576 11.414c0.56558 0.55188 0.56558 1.4439 0 1.9961l-9.404 9.176c-0.28213 0.27529-0.65247 0.41385-1.0228 0.41385-0.37034 0-0.74068-0.13855-1.0228-0.41385l-4.7019-4.588c-0.56584-0.55188-0.56584-1.4442 0-1.9961 0.56558-0.55214 1.4798-0.55214 2.0456 0l3.679 3.5899 8.3812-8.1779c0.56558-0.55214 1.4798-0.55214 2.0456 0z"})})})})})]})]})]}),Object(o.jsxs)("div",{className:"customize-field my-4",children:[Object(o.jsx)("p",{className:"text-xl  mb-2",children:"Font Size"}),Object(o.jsx)("input",{className:"focus:border-light-blue-500 focus:ring-1 focus:ring-light-blue-500 focus:outline-none w-full text-sm text-black placeholder-gray-500 border border-gray-200 rounded-md py-2 pl-4",onChange:function(e){return E(Object(x.a)(Object(x.a)({},C),{},{fontSize:e.currentTarget.value}))},type:"Number"})]}),Object(o.jsxs)("div",{className:"customize-field my-4 ",children:[Object(o.jsx)("p",{className:"text-xl mb-2",children:"Units"}),Object(o.jsxs)("div",{className:"flex justify-around flex-col pl-8",children:[Object(o.jsxs)("div",{className:"flex flex-row items-baseline",children:[Object(o.jsx)("input",{id:"unit-standard",className:"",type:"radio",name:"unit",value:"standard",checked:!0,onChange:function(){}}),Object(o.jsx)("label",{htmlFor:"unit-standard",className:"pl-2 mb-1 text-lg",children:"Standard"})]}),Object(o.jsxs)("div",{className:"flex flex-row items-baseline",children:[Object(o.jsx)("input",{id:"unit-metric",className:"",type:"radio",name:"unit",value:"metric",checked:!0,onChange:function(){}}),Object(o.jsx)("label",{htmlFor:"unit-metric",className:"pl-2 mb-1 text-lg",children:"Metric"})]})]})]}),Object(o.jsx)("div",{className:"customize-field my-4",children:Object(o.jsx)(N,{updateStations:r})})]})},k=n(9),C=(n(347),800),E=function(e){var t,n,a=e.elevationData,r=e.onChartLoad,s=e.aidStations,l=e.customs,u=Object(c.useRef)(null),d=Object(c.useState)({top:20,right:50,bottom:30,left:50}),b=Object(i.a)(d,2),j=b[0],f=(b[1],Object(c.useState)(0)),x=Object(i.a)(f,2),h=x[0],m=x[1],p=Object(c.useState)(0),O=Object(i.a)(p,2),g=O[0],v=O[1],y=Object(c.useState)(null),w=Object(i.a)(y,2),N=w[0],S=w[1],E=Object(c.useState)(l.lineColor||"#ff0000ad"),z=Object(i.a)(E,2),L=z[0],F=z[1],D=Object(c.useState)(l.lineWidth||3),M=Object(i.a)(D,2),T=M[0],P=M[1],J=Object(c.useState)(l.title||""),R=Object(i.a)(J,2),A=R[0],I=R[1],W=Object(c.useState)(l.showElevationLines),U=Object(i.a)(W,2),B=U[0],G=U[1],q=Object(c.useState)(l.showDistanceLines),H=Object(i.a)(q,2),K=H[0],V=H[1],X=Object(c.useState)(l.fontSize),$=Object(i.a)(X,2),Q=$[0],Y=$[1],Z=Object(c.useState)("km"),_=Object(i.a)(Z,2),ee=_[0],te=(_[1],Object(c.useRef)(null)),ne=Object(c.useRef)(null),ce=Object(c.useRef)(null);return Object(c.useEffect)((function(){ne.current||(ne.current=Object(k.g)()),te.current||(te.current=Object(k.g)()),ne.current.range([0,h]),te.current.range([g,0])}),[h,g]),Object(c.useEffect)((function(){return v(parseInt(""+.3*h)-j.top-j.bottom)}),[h]),Object(c.useEffect)((function(){return m(.95*(u.current.offsetWidth-j.left-j.right))}),[]),Object(c.useEffect)((function(){s&&a&&a.length&&ne.current&&te.current&&JSON.stringify(ne.current.domain())!==JSON.stringify([0,1])&&JSON.stringify(te.current.domain())!==JSON.stringify([0,1])&&s.forEach((function(e){var t="aid-station-"+parseInt(e.id),n=ce.current.select("#"+t),c=ce.current.select("#"+t+"--line");n.empty()&&(n=ce.current.append("circle").attr("id",t)),c.empty()&&(c=ce.current.append("line").attr("class","x-axis").attr("id",t+"--line"));for(var r=parseFloat(e.distance||0),s=0,i=0;i<=r&&s<a.length;)i=a[s].distance[ee],s++;var l=Math.max(parseFloat(e.size||"0"),3),o=te.current(a[s].elevation),u=ne.current(r);n.attr("cx",u).attr("cy",o).attr("r",l+"px").attr("stroke-width",l+"px").attr("fill",e.color||"#ff0000").attr("stroke",(e.color||"#ff0000")+"22"),c.attr("x1",u).attr("x2",u).attr("y1",o).attr("y2",te.current(0)).attr("fill","none").attr("stroke",(e.color||"#ff0000")+"55").attr("stroke-width","2px").attr("stroke-dasharray","6,10")}))}),[s,a]),Object(c.useEffect)((function(){if(r(null!==a&&0!==a.length),u.current&&ne.current&&te.current)return ce.current&&(ce.current.remove(),u.current.innerHTML=""),ce.current=Object(k.h)("#elevation-chart").append("svg").attr("width",h+j.left+j.right).attr("height",g+j.top+j.bottom).append("g").attr("transform","translate("+j.left+","+j.top+")"),t=Object(k.a)().scale(ne.current).ticks(10),n=Object(k.b)().scale(te.current).ticks(5),a&&a.length&&function(){ne.current.domain([0,Object(k.e)(a,(function(e){return e.distance["km"===ee?"km":"miles"]}))]);var e=Object(k.f)(a,(function(e){return e.elevation})),c=Object(k.e)(a,(function(e){return e.elevation}));te.current.domain([e-.05*e,1.05*c]),ce.current.append("g").attr("class","x-axis").attr("transform","translate(0,"+g+")").call(t),ce.current.append("g").attr("class","y-axis").call(n),ce.current.append("line").attr("class","horizontalGrid-start").attr("x1",0).attr("x2",ne.current(a[a.length-1].index)).attr("y1",te.current(a[0].elevation)).attr("y2",te.current(a[0].elevation)).attr("fill","none").attr("stroke","black").attr("stroke-width","1px").attr("stroke-dasharray","3,3"),ce.current.append("line").attr("class","horizontalGrid-lowest").attr("x1",0).attr("x2",ne.current(a[a.length-1].index)).attr("y1",te.current(Object(k.f)(a,(function(e){return e.elevation})))).attr("y2",te.current(Object(k.f)(a,(function(e){return e.elevation})))).attr("fill","none").attr("stroke","black").attr("stroke-width","2px").attr("stroke-dasharray","2, 10"),ce.current.append("text").attr("class","chart-title").attr("x",h/2).attr("text-anchor","middle").style("font-size","24px").text(A);var s=Object(k.d)().curve(k.c).x((function(e){return ne.current(e.distance["km"===ee?"km":"standard"])})).y((function(e){return te.current(e.elevation)}));N||S(ce.current.append("g").append("path").datum(a).attr("d",s).attr("stroke",L||"#ff2022").attr("stroke-width","3px").attr("fill","none").attr("class","elevation-path"));r(!0)}(),function(){ce.current&&ce.current.remove(),u.current&&(u.current.innerHTML="")}}),[a]),Object(c.useEffect)((function(){Object(k.h)(".elevation-path").transition().duration(C).style("stroke",l.lineColor||"blue").style("stroke-width","".concat(l.lineWidth||3,"px"))}),[l]),Object(c.useEffect)((function(){return Object(k.h)(".chart-title").text(A)}),[A]),Object(c.useEffect)((function(){Object(k.h)(".x-axis").style("font-size",Q+"px"),Object(k.h)(".y-axis").style("font-size",Q+"px")}),[Q]),Object(c.useEffect)((function(){L!=l.lineColor&&F(l.lineColor),A!=l.title&&I(l.title),T!=l.lineWidth&&P(l.lineWidth),B!=l.showElevationLines&&G(l.showElevationLines),K!=l.showDistanceLines&&V(l.showDistanceLines),Q!=l.fontSize&&Y(l.fontSize)}),[l]),Object(c.useEffect)((function(){ce.current&&ce.current.selectAll(".y-axis,.horizontalGrid-start,.horizontalGrid-lowest").transition().duration(C).style("opacity",B?1:0)}),[B]),Object(c.useEffect)((function(){ce.current&&ce.current.selectAll(".x-axis").transition().duration(C).style("opacity",K?1:0)}),[K]),Object(c.useEffect)((function(){N&&N.datum(a).transition().duration(1e3).attr("fill","none").style("stroke-width","".concat(l.lineWidth,"px"))}),[T]),Object(c.useEffect)((function(){N&&N.datum(a).transition().duration(C).attr("fill","none").style("stroke",l.lineColor)}),[L]),Object(o.jsx)("div",{id:"elevation-chart",class:"flex justify-center items-center w-full h-full",ref:u})};n(348);function z(e){return L.apply(this,arguments)}function L(){return(L=Object(f.a)(j.a.mark((function e(t){var n,c,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.name,c=t.svg,e.next=3,fetch("/api/draw",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},mode:"cors",body:JSON.stringify({name:n,img:c})});case 3:return a=e.sent,e.next=6,a.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var F=n(6),D=function(e){var t=e.onSave,n=Object(c.useState)([]),a=Object(i.a)(n,2),r=a[0],s=a[1],l=Object(c.useState)([]),u=Object(i.a)(l,2),d=u[0],b=u[1],x=Object(c.useRef)(null),h=Object(c.useState)({file:"",title:"",lineColor:"#ff0000ad",lineWidth:3,showElevationLines:!0,showDistanceLines:!0,fontSize:14,unit:"standard",aidStations:[{distance:0,size:1,color:"#000000ad"}]}),m=Object(i.a)(h,2),p=m[0],O=m[1],g=Object(c.useState)(!1),v=Object(i.a)(g,2),y=v[0],w=v[1],N=Object(F.f)(),k=function(){var e=Object(f.a)(j.a.mark((function e(){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z({name:"chart",svg:x.current.querySelector("#elevation-chart").innerHTML});case 2:(n=e.sent).image&&"SUCCESS"===n.response&&(t(n.image),N.push("/confirm"));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.jsx)("div",{className:"App",children:Object(o.jsxs)("div",{className:"flex ",children:[Object(o.jsx)("div",{className:"w-3/12  max-w-md ",children:Object(o.jsx)(S,{onUpload:s,customs:p,setCustoms:O,updateAidStations:b})}),Object(o.jsxs)("main",{className:"w-9/12",children:[Object(o.jsx)("div",{class:"px-4 py-8 pl-0",children:Object(o.jsx)("div",{class:"border-4 border-dashed border-gray-200 rounded-lg h-96 flex items-center",ref:x,children:Object(o.jsx)(E,{elevationData:r,onChartLoad:w,aidStations:d,customs:p})})}),y&&Object(o.jsx)("div",{className:"flex justify-end px-8",children:Object(o.jsx)("button",{className:"save-button whitespace-nowrap inline-flex rounded-md bg-blue-500 my-5 py-2 px-10 text-base font-semibold uppercase text-white hover:bg-opacity-90",onClick:k,children:"Save"})})]})]})})},M=n(71);var T=function(){var e=Object(c.useState)(null),t=Object(i.a)(e,2),n=t[0],a=t[1];return Object(c.useEffect)((function(){}),[n]),Object(o.jsxs)(M.a,{basename:"racetatts",children:[Object(o.jsx)(u,{}),Object(o.jsxs)(F.c,{children:[Object(o.jsxs)(F.a,{path:"/confirm",children:["  ",Object(o.jsx)(d,{imagePath:n})," "]}),Object(o.jsxs)(F.a,{exact:!0,path:"/",children:[" ",Object(o.jsx)(D,{onSave:function(e){a(e)}})," "]})]})]})},P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,353)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};s.a.render(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(T,{})}),document.getElementById("root")),P()}},[[351,1,2]]]);
//# sourceMappingURL=main.ba1a344b.chunk.js.map